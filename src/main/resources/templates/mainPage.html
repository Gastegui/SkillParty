<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/mainPage.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <title>SkillParty - Home</title>
</head>
<body>
    <header th:insert="~{include/nav :: nav}"></header>
    
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 bg-black" id="photo">
                <img src="images/logo.jpg" alt="Logo" class="img-fluid">
            </div>
        </div>
        <div class="row">
            <h1 class="text-black">TOP 3 CURSOS</h1>
        </div>
        <div class="d-flex overflow-x-auto">
            <div th:each="curso : ${topCursos}" class="p-2">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${curso.titulo}"></h5>
                    </div>
                    <div class="d-flex justify-content-center">
                        <img th:src="@{|/uploads/${curso.creador.id}/courses/${curso.id}/portada${curso.portada.extension}|}" alt="Portada del curso" width="300">   
                    </div>
                    <div class="card-body">
                        <p class="card-text" th:text="${curso.descripcion}"></p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group">
                                <a th:href="@{/course/view(title=${curso.titulo})}" class="btn btn-sm btn-outline-secondary">Ver</a>      
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-4 col-md-3 p-2">
                <a class="btn btn-light w-100 h-100 d-flex align-items-center justify-content-center" th:href="@{/course/list}">VER MÁS</a>
            </div>
        </div>
        

        <div class="row">
            <h1 class="text-black">TOP 3 SERVICIOS</h1>
        </div>
        <div class="d-flex overflow-x-auto">
            <div th:each="servicio : ${topServicios}" class="p-2">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${servicio.titulo}"></h5>
                    </div>
                    <div class="d-flex justify-content-center">
                        <img th:src="@{|/uploads/${servicio.creador.id}/services/${servicio.id}/portada${servicio.portada.extension}|}" alt="Portada del curso" width="300">   
                    </div>
                    <div class="card-body">
                        <p class="card-text" th:text="${servicio.descripcion}"></p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group">
                                <a th:href="@{/service/view(title=${servicio.titulo})}" class="btn btn-sm btn-outline-secondary">Ver</a>      
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-4 col-md-3 p-2">
                <a class="btn btn-light w-100 h-100 d-flex align-items-center justify-content-center" th:href="@{/service/list}">VER MÁS</a>
            </div>
        </div>

        <!-- CURSOS RECOMENDADOS -->
        <div sec:authorize="isAuthenticated()" class="row">
            <h1 class="text-black">CURSOS RECOMENDADOS</h1>
        </div>
        <div sec:authorize="isAuthenticated()" class="row d-inline-flex flex-nowrap overflow-auto">
            <!-- Cursos recomendados aquí -->
            <div th:each="curso : ${cursosRecomendados}" class="col-xs-12 col-md-6 col-lg-4">
                <div class="card shadow-sm" style="width: 350px; height: 450px;">
                    <div class="d-flex justify-content-center">
                        <img th:src="@{|/uploads/${curso.creador.id}/courses/${curso.id}/portada${curso.portada.extension}|}" class="w-75 h-100"/>
                    </div>
                    <div class="card-body">
                        <h2 class="card-text" th:text="${curso.titulo}">Nombre del curso</h2>
                        <p class="card-text" th:text="${curso.descripcion}">Descripción del curso</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group">
                                <a th:href="@{course/view(title=${curso.titulo})}" class="btn btn-sm btn-outline-secondary">Ver</a>
                            </div>
                            <small class="text-body-secondary">Fecha de Creación: <span th:text="${#dates.format(curso.fechaDeCreacion, 'yyyy-MM-dd HH:mm')}">Fecha del curso</span></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer th:insert="~{include/footer :: div}"></footer>
    <script defer src="js/bootstrap.bundle.min.js"></script>
</body>
</html>